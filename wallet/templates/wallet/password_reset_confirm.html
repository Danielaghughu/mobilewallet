{% extends 'wallet/base.html' %}
{% block content %}
<div class="max-w-md mx-auto">
    <div class="text-center mb-8">
        <h2 class="text-3xl font-bold text-gray-800 mb-2">Set New Password</h2>
        <p class="text-gray-600">Enter your new password below</p>
        {% if email %}
        <p class="text-sm text-gray-500 mt-1">Resetting password for: {{ email }}</p>
        {% endif %}
    </div>

    <div class="bg-white rounded-lg shadow-lg p-8 border border-gray-200">
        <form method="post" class="space-y-6">
            {% csrf_token %}
            
            <!-- New Password Field -->
            <div>
                <label for="password1" class="block text-sm font-medium text-gray-700 mb-2">
                    New Password
                </label>
                <input type="password" name="password1" id="password1" required minlength="8"
                       class="w-full px-4 py-3 border border-gray-300 rounded-lg focus:ring-2 focus:ring-green-500 focus:border-green-500 transition duration-200"
                       placeholder="Enter new password">
                <p class="text-xs text-gray-500 mt-1">Password must be at least 8 characters long</p>
            </div>

            <!-- Confirm Password Field -->
            <div>
                <label for="password2" class="block text-sm font-medium text-gray-700 mb-2">
                    Confirm New Password
                </label>
                <input type="password" name="password2" id="password2" required minlength="8"
                       class="w-full px-4 py-3 border border-gray-300 rounded-lg focus:ring-2 focus:ring-green-500 focus:border-green-500 transition duration-200"
                       placeholder="Confirm new password">
            </div>

            <!-- Submit Button -->
            <button type="submit" class="w-full bg-gradient-to-r from-green-600 to-blue-600 text-white py-3 px-4 rounded-lg font-medium hover:from-green-700 hover:to-blue-700 transition duration-200 transform hover:scale-105 focus:outline-none focus:ring-2 focus:ring-green-500 focus:ring-opacity-50">
                Reset Password
            </button>
        </form>

        <!-- Back to Login Link -->
        <div class="mt-6 text-center">
            <p class="text-gray-600">
                <a href="{% url 'login' %}" class="text-blue-600 hover:text-blue-800 font-medium transition duration-200">
                    Back to login
                </a>
            </p>
        </div>
    </div>

    <!-- Security Notice -->
    <div class="mt-8 bg-green-50 p-6 rounded-lg border border-green-200">
        <div class="flex items-start space-x-3">
            <div class="text-green-600 text-xl mt-1">ðŸ”’</div>
            <div>
                <h3 class="font-semibold text-gray-800 mb-2">Security Notice</h3>
                <ul class="text-sm text-gray-600 space-y-1">
                    <li>â€¢ Choose a strong password with at least 8 characters</li>
                    <li>â€¢ Include a mix of letters, numbers, and symbols</li>
                    <li>â€¢ Avoid using common words or personal information</li>
                    <li>â€¢ Your new password will be active immediately</li>
                </ul>
            </div>
        </div>
    </div>
</div>

<script>
// Password confirmation validation
document.getElementById('password2').addEventListener('input', function() {
    const password1 = document.getElementById('password1').value;
    const password2 = this.value;
    
    if (password2 && password1 !== password2) {
        this.setCustomValidity('Passwords do not match');
        this.classList.add('border-red-500', 'focus:ring-red-500', 'focus:border-red-500');
    } else {
        this.setCustomValidity('');
        this.classList.remove('border-red-500', 'focus:ring-red-500', 'focus:border-red-500');
    }
});
</script>
{% endblock %} 